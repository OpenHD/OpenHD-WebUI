<h1 id="tableLabel">Files</h1>

<!-- Loading Indicator with Inline Animation -->
<div *ngIf="!files?.length" style="
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: Arial, sans-serif;
  background: #f5f7fa;
  color: #333;">
  <div style="font-size: 1.5rem; font-weight: bold; color: #444; display: flex; align-items: center;">
    Loading
    <span style="
      display: inline-block;
      width: 8px;
      height: 8px;
      background-color: #444;
      border-radius: 50%;
      margin-left: 5px;
      animation: loadingDot 1s infinite alternate;"></span>
    <span style="
      display: inline-block;
      width: 8px;
      height: 8px;
      background-color: #444;
      border-radius: 50%;
      margin-left: 5px;
      animation: loadingDot 1s infinite alternate;
      animation-delay: 0.2s;"></span>
    <span style="
      display: inline-block;
      width: 8px;
      height: 8px;
      background-color: #444;
      border-radius: 50%;
      margin-left: 5px;
      animation: loadingDot 1s infinite alternate;
      animation-delay: 0.4s;"></span>
  </div>
</div>

<!-- File Display Section -->
<div class="album py-5 bg-light" *ngIf="files.length">
  <div class="container">
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
      <div class="col" *ngFor="let file of files">
        <div class="card shadow-sm">
          <video
            class="bd-placeholder-img card-img-top"
            width="100%"
            height="225"
            role="img"
            aria-label="Placeholder: Thumbnail"
            preserveAspectRatio="xMidYMid slice"
            focusable="false"
            controls>
            <source src="{{ file.downloadPath }}" type="video/mp4">
          </video>

          <div class="card-body">
            <p class="card-text">{{ file.fileName }}</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a href="{{ file.downloadPath }}" class="btn btn-primary" download>Download</a>
                <a class="btn btn-danger" (click)="onDeleteClick(file.fileName)">Delete</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  /* Animation Keyframes */
  @keyframes loadingDot {
    0% {
      transform: translateY(0);
    }
    100% {
      transform: translateY(-10px);
    }
  }
</style>
